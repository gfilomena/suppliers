<md-card>
  <md-card-header>
    <md-card-title>
          <md-input-container>
            <input mdInput  [(ngModel)]="data.name"   [disabled]="isDisabled()" class="title">
            <md-icon mdSuffix (click)="toggle()">mode_edit</md-icon>
          </md-input-container>
    </md-card-title>
  </md-card-header>
<div [ngSwitch]="data.type">
  <div *ngSwitchCase="'video'">
        <div  *ngIf="data.fileExtension">
            <div *ngIf="loaderror; else defaultimg">
                <video id="video" width="100%" height="250px" autoplay controls onerror="alert('first error event')">
                  <source [src]="getVideoSource(data.downloadURI)" [type]="data.fileExtension">
                    Your browser does not support the video tag.
                </video>
            </div>
             <!-- <ng-template #defaultimg>
                  <img width="100%" height="250px" src="../../assets/images/logo_producer_511x103.jpg" class="image-card">
              </ng-template>-->
        </div>
           <ng-template #defaultvideo>
                  <iframe width="100%" height="250px" [src]="getVideoSource(data.uri)"></iframe>
           </ng-template>
   </div>
  <div *ngSwitchCase="'image'">
     <div *ngIf="data.uri; else defaultimg">
        <img width="100%" height="250px" [src]="data.uri" class="image-card">
     </div>
        <ng-template #defaultimg>
              <img width="100%" height="250px" src="../assets/images/logo_producer_511x103.jpg" class="image-card">
        </ng-template>
  </div>
  <div *ngSwitchCase="'audio'">
    <audio controls>
      <source [src]="data.uri" [type]="data.fileExtension">
    Your browser does not support the audio element.
    </audio>
  </div>
  <div *ngSwitchCase="'text'">
   
  </div>
</div>





  <md-card-content>
<div fxLayout="column" fxLayoutAlign="space-around none" fxFlexOffset="2">

      <div>
        <h5></h5>
      </div>
    <md-chip-list fxLayout="row" >
      <md-basic-chip *ngFor="let tag of data.metadata" class="badge">
              {{tag}}
              <md-icon class="removeTag" (click)="removeTag(data,tag)">clear</md-icon> 
      </md-basic-chip>
    </md-chip-list>
<table>
  <tr><td> 
    <button md-icon-button mdTooltip="Save Bookmark" mdTooltipPosition ="above" (click)="checkSaveBookmark(data)"><md-icon id="({{data.uri}})">star_border</md-icon></button>
  </td><td rowspan="2"> {{data.description}}</td></tr>
   <tr><td></td>
  <td></td>
</tr>
</table>
<md-input-container>
    <input #newtag mdInput id="newtag" placeholder="insert Tag" value="" (keyup.enter)="saveTag(data, newtag.value)" >
  </md-input-container>
    <div><a [href]="data.uri"><img src="../assets/ui/assets/images/{{data.source.name}}.png"/></a></div>
</div>

  


    <md-select *ngIf="formats" [(ngModel)]="data.name" (ngModelChange)="onChange($event)">
      <md-option *ngFor="let file of formats" [value]="file.name">
        
          {{getExt(file.name)}}  ({{getMB(file.size)}}MB)
   
      </md-option>
    </md-select>




  </md-card-content>
   <md-card-actions align="end">
      <md-progress-spinner *ngIf="loading" class="spinner" mode="indeterminate"></md-progress-spinner>
    <button md-button (click)="sendMcssr(data)">Send to MCSSR</button>
    <button md-button  [md-dialog-close]="true">Close</button>
  </md-card-actions>
</md-card>
