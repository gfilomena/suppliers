<mat-card>
  <mat-card-header>
    <mat-card-title>
          <mat-form-field>
            <input matInput  [(ngModel)]="data.name"   [disabled]="isDisabled()" class="title">
            <mat-icon matSuffix (click)="toggle()">mode_edit</mat-icon>
            <button matSuffix mat-icon-button matTooltip="Save Bookmark" matTooltipPosition ="above" (click)="checkSaveBookmark(data)"><mat-icon id="({{data.uri}})">star_border</mat-icon></button>
          </mat-form-field>
    </mat-card-title>
  </mat-card-header>
<div [ngSwitch]="data.type">
  <div *ngSwitchCase="'video'">
        <div  *ngIf="data.source.name == 'InternetArchive'; else defaultvideo">
 
                <video  id="video" width="100%" height="250px" autoplay controls onerror="alert('first error event')">
                  <source [src]="data.downloadURI" [type]="data.fileExtension">
                 <!-- <source [src]="data.downloadUri" [type]="data.fileExtension"> -->
                    Your browser does not support the video tag.
                </video>
         <!--   
              <ng-template #defaultimg>
                  <img width="100%" height="250px" src="../../assets/images/logo_producer_511x103.jpg" class="image-card">
              </ng-template> -->
        </div>
           <ng-template #defaultvideo>
                  <iframe width="100%" height="250px" [src]="getVideoSource(data.downloadURI)"></iframe>
           </ng-template>
   </div>
  <div *ngSwitchCase="'image'">
     <div *ngIf="data.downloadURI; else defaultimg">
        <img width="100%" height="250px"  [src]="data.downloadURI" class="image-card">
     </div>
        <ng-template #defaultimg>
              <img width="100%" height="250px" src="../assets/images/logo_producer_511x103.jpg" class="image-card">
        </ng-template>
  </div>
  <div *ngSwitchCase="'audio'">
    <audio  id="audio" controls>
      <source [src]="data.downloadURI" [type]="data.fileExtension">
    Your browser does not support the audio element.
    </audio>
  </div>
  <div *ngSwitchCase="'text'">
   
  </div>
</div>





  <mat-card-content>
<div fxLayout="column" fxLayoutAlign="space-around none" fxFlexOffset="2">

      <div>
        <h5></h5>
      </div>
    <mat-chip-list fxLayout="row" >
      <mat-chip *ngFor="let tag of data.metadata" class="badge">
              {{tag}}
              <mat-icon class="removeTag" (click)="removeTag(data,tag)">clear</mat-icon> 
      </mat-chip>
    </mat-chip-list>
<table>
  <tr><td> {{data.description}}</td></tr>
</table>
   <mat-form-field>
    <input #newtag matInput id="newtag" placeholder="insert Tag" value="" (keyup.enter)="saveTag(data, newtag.value)" >
  </mat-form-field>
  <mat-select placeholder="select format" *ngIf="formats" [(ngModel)]="selectedFormat" (ngModelChange)="onChange($event)">
    <mat-option *ngFor="let file of formats" [value]="file.name">
        {{getExt(file.name)}}  ({{getMB(file.size)}}MB)
    </mat-option>
  </mat-select>
</div>
  
    
  </mat-card-content>
   <mat-card-actions align="end">
    <a class="logo" [href]="data.uri"><img src="../assets/ui/assets/images/{{data.source.name}}.png"/></a>
    <mat-progress-spinner *ngIf="loading" class="spinner" mode="indeterminate"></mat-progress-spinner>
    <button mat-button *ngIf="selectedFormat !== '' " (click)="sendMcssr(data)">Send to MCSSR</button>
    <button mat-button matDialogClose>Close</button>
  </mat-card-actions>
</mat-card>
