<md-card>
  <md-card-header>
    <md-card-title>
          <md-form-field>
            <input mdInput  [(ngModel)]="data.name"   [disabled]="isDisabled()" class="title">
            <md-icon mdSuffix (click)="toggle()">mode_edit</md-icon>
            <button mdSuffix md-icon-button mdTooltip="Save Bookmark" mdTooltipPosition ="above" (click)="checkSaveBookmark(data)"><md-icon id="({{data.uri}})">star_border</md-icon></button>
          </md-form-field>
    </md-card-title>
  </md-card-header>
<div [ngSwitch]="data.type">
  <div *ngSwitchCase="'video'">
        <div  *ngIf="data.source.name == 'InternetArchive'; else defaultvideo">
 
                <video  id="video" width="100%" height="250px" autoplay controls onerror="alert('first error event')">
                  <source [src]="data.downloadURI" [type]="data.fileExtension">
                 <!-- <source [src]="data.downloadUri" [type]="data.fileExtension"> -->
                    Your browser does not support the video tag.
                </video>
         <!--   
              <ng-template #defaultimg>
                  <img width="100%" height="250px" src="../../assets/images/logo_producer_511x103.jpg" class="image-card">
              </ng-template> -->
        </div>
           <ng-template #defaultvideo>
                  <iframe width="100%" height="250px" [src]="getVideoSource(data.downloadURI)"></iframe>
           </ng-template>
   </div>
  <div *ngSwitchCase="'image'">
     <div *ngIf="data.downloadURI; else defaultimg">
        <img width="100%" height="250px"  [src]="data.downloadURI" class="image-card">
     </div>
        <ng-template #defaultimg>
              <img width="100%" height="250px" src="../assets/images/logo_producer_511x103.jpg" class="image-card">
        </ng-template>
  </div>
  <div *ngSwitchCase="'audio'">
    <audio  id="audio" controls>
      <source [src]="data.downloadURI" [type]="data.fileExtension">
    Your browser does not support the audio element.
    </audio>
  </div>
  <div *ngSwitchCase="'text'">
   
  </div>
</div>





  <md-card-content>
<div fxLayout="column" fxLayoutAlign="space-around none" fxFlexOffset="2">

      <div>
        <h5></h5>
      </div>
    <md-chip-list fxLayout="row" >
      <md-chip *ngFor="let tag of data.metadata" class="badge">
              {{tag}}
              <md-icon class="removeTag" (click)="removeTag(data,tag)">clear</md-icon> 
      </md-chip>
    </md-chip-list>
<table>
  <tr><td> {{data.description}}</td></tr>
</table>
   <md-form-field>
    <input #newtag mdInput id="newtag" placeholder="insert Tag" value="" (keyup.enter)="saveTag(data, newtag.value)" >
  </md-form-field>
  <md-select placeholder="select format" *ngIf="formats" [(ngModel)]="selectedFormat" (ngModelChange)="onChange($event)">
    <md-option *ngFor="let file of formats" [value]="file.name">
        {{getExt(file.name)}}  ({{getMB(file.size)}}MB)
    </md-option>
  </md-select>
</div>
  
    
  </md-card-content>
   <md-card-actions align="end">
    <a class="logo" [href]="data.uri"><img src="../assets/ui/assets/images/{{data.source.name}}.png"/></a>
    <md-progress-spinner *ngIf="loading" class="spinner" mode="indeterminate"></md-progress-spinner>
    <button md-button *ngIf="selectedFormat !== '' " (click)="sendMcssr(data)">Send to MCSSR</button>
    <button md-button md-dialog-close>Close</button>
  </md-card-actions>
</md-card>
